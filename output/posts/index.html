<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
  <head>
    <meta content='text/html; charset=utf-8' http-equiv='Content-type' />
    <meta name='author' />
    <meta content='i/cbJtXe1ZDIZNta65CghwcRM/zFMRHIsbR9poU+uwU=' name='verify-v1' />
    <title>t.pitale blog</title>
    <link href='/favicon.ico' rel='shortcut icon' />
    <link href='http://feeds.feedburner.com/tpitale' rel='alternate' title='Atom feed' type='application/rss+xml' />
    <!-- Site CSS -->
    <link href='/css/base.css' media='screen, projection' rel='stylesheet' type='text/css' />
  </head>
  <body>
    <div id='header'>
      <div class='wrap'>
        <div class='col'>
          <a href='/'>
            <img src='/images/logo.png' />
          </a>
        </div>
        <div class='block'>
          <ul>
            <li>
              <a href="/#about">About</a>
            </li>
            <li>
              <a href="/#contact">Contact</a>
            </li>
            <li>
              <a href="/#blog">Blog</a>
            </li>
            <li>
              <a href="/#portfolio">Portfolio</a>
            </li>
            <li>
              <a href="/#links">Links</a>
            </li>
            <li>
              <a href="/#photos">Photos</a>
            </li>
          </ul>
        </div>
        <br class='clearleft' />
      </div>
    </div>
    <div id='content'>
      <div id='blog'>
        <div class='wrap'>
          <div class='col'>
            <h1>
              Blog
            </h1>
          </div>
          <div class='block'>
            
            <div id='post'>
              <h1>Legacy Databases with ActiveRecord</h1>
              <h2>So Close, But Yet, So Far</h2>
              <span class='date'>2008-03-17</span>
              <p>
                I loved working with Ruby on Rails, I still do. I bought books, I read
                blogs, and I made a fair few sites (both personal and for clients). I
                thought Ruby on Rails was the be-all, end-all for web development. I was
                very wrong.
              </p>
              <p>
                Ruby on Rails is fantastic. Especially when you create a new application
                and design and create that web application with Rails, and its way, in
                mind. However, if, like myself, you have to work with the database from
                an application that originated nearly 20 years ago, you may hit some snags.
                Just as I did.
              </p>
              <p>
                The design of a database to be used with Ruby on Rails (specifically
                ActiveRecord) must adhere to some very stringent "best" practices. These
                are not always the absolute, best practices in design but, they provide
                some fairly standard basic practices. One such example, though fairly
                advanced comes with polymorphic associations. In defining the type in one
                such association, ActiveRecord uses the class name of the type instead of
                a secondary table listing all possible types. This breaks any possible use
                of a foreign-key constraint.
              </p>
              <p>
                Some basics in Ruby on Rails database design, which is often generated
                without any specification from the developer (when using model generators),
                include: tables are named the pluralized class name (e.g. User becomes
                users), every table has an "id" field that is an auto-incremented integer,
                and a foreign-key is tablename_id.
              </p>
              <p>
                What must we do if we are using an existing database, and it does not
                comply to these standards? I'll go through each instance of non-standard
                database design from the existing database and show how ActiveRecord did
                or did not handle the problem.
              </p>
              <p>
                What to do if a Table is not Named after a Class? Easy. ActiveRecord
                provides a simple method
                <code>set_table_name</code>
                that allows you to do just that. If the tables are named after a class but
                are not pluralized, you can simply set the environment to not use the
                pluralized versions.
              </p>
              <p>
                What to do if a Table does not have Primary Key named 'id'? Easy, too.
                Simply use
                <code>set_primary_key</code>
                to set the primary key. This does not, however, provide for a case in which
                a table does not have a primary key (or otherwise usable unique key) in any
                way, shape, or form. The simple answer is to add an 'id' field that is not
                used by the legacy application. This is difficult or impossible to do if
                you are not the person in control of the database. It is also difficult if,
                like me, the database exists on hundreds of servers distributed around the
                country. Making any change in this case is not a simple undertaking.
              </p>
              <p>
                What to do if the Primary Key is not an auto-incremented integer field?
                Here, we find the most difficult problem of all. ActiveRecord can ignore
                the fact that you don't have auto-incremented values but, if your key is
                not an integer ActiveRecord (as of this posting) hits the proverbial wall.
                In the case of my legacy database, the primary keys were text fields, five
                digits in length. This was a carry-over from an even older system in which
                no relational database was involved.
              </p>
              <p>
                My only options here became extremely complicated and were only possible
                because I was using Postgresql (editable views). That was the end of the
                road for this project and Ruby on Rails. Thankfully, a helpful suggestion
                led me to use
                <a href="http://merbivore.com">Merb</a>
                for my framework and
                <a href="http://datamapper.org">DataMapper</a>
                for my database ORM. Watch for my next post in which I discuss the solutions
                to these problems, and a few nice perks, found in Merb and DataMapper.
              </p>
            </div>
            <script src='http://disqus.com/forums/tpitale/embed.js' type='text/javascript'></script>
            <noscript>
              <a href='http://tpitale.disqus.com/?url=ref'>
                View the discussion thread.
              </a>
              <a class='dsq-brlink' href='http://disqus.com'>
                blog comments powered by
                <span class='logo-disqus'>
                  Disqus
                </span>
              </a>
            </noscript>
            <div id='post'>
              <h1>Webby - Part 1</h1>
              <h2>An Introduction to Webby</h2>
              <span class='date'>2008-04-13</span>
              <p>
                <a href="http://webby.rubyforge.org/">Webby</a>
                is the best tool available on the web (especially for Ruby developers) to
                manage the content on a website. When I say website I mean a general class
                of website that has no dynamic content. Websites such as personal blogs are
                ideal candidates for Webby as they only change when a new post is made.
                Webby is essentially the lightest, most hackable CMS available.
              </p>
              <p>
                In my case, I needed a tool to create a website that was not database-
                backed but, the content changed frequently enough to warrant a simple means
                by which I could update and makes other changes. Having been working with
                Ruby and the Rails/Merb frameworks, I wished I could have the rendering
                abilities and helper methods of these frameworks. However, both require
                massive resources in comparison to serving up static files. Therefore, both
                were overkill with all of their abilities designed for web applications.
              </p>
              <p>
                In this ongoing series of posts I will do my best to cover Webby and some
                of the features of Webby that are not fully covered in the tutorials. Also,
                I would really love to help out anyone interested in Webby that is not sure
                that Webby will meet their needs (and don't have time to dig into Webby
                itself to find out).
              </p>
              <p class='next'>
                Check back tomorrow for my next post in the series on some of the essential
                features that I found in Webby, but not in the documentation.
              </p>
            </div>
            <script src='http://disqus.com/forums/tpitale/embed.js' type='text/javascript'></script>
            <noscript>
              <a href='http://tpitale.disqus.com/?url=ref'>
                View the discussion thread.
              </a>
              <a class='dsq-brlink' href='http://disqus.com'>
                blog comments powered by
                <span class='logo-disqus'>
                  Disqus
                </span>
              </a>
            </noscript>
            <div id='post'>
              <h1>Vision Online, Now Focus</h1>
              <h2>The exciting tale of a Merb Application and branding</h2>
              <span class='date'>2008-03-11</span>
              <p>
                I have spent my free time, nights and weekends, working to create a new
                version of Vision, online. For those that do not know, Vision is the
                peerless, just-in-time, inventory control and point of sale system for the
                retail liquor market.
              </p>
              <p>
                The project was originally titled Vision Online. That name is simple and
                it works with all of the branding that
                <a href="http://www.ics-nj.com">ICS</a>
                has already done. However, this product heads out on its own and addresses
                a slightly new market. As such, a new name was a must.
              </p>
              <p>
                Thanks to a stroke of genius by my associate Chris, we've switched to the
                name Focus. The name is brilliant for three, important, reasons. First,
                the original product is named Vision and Focus is just that, a focusing of
                the features and benefits of using Vision. Second, the use of this
                product is intended to focus the users' inventory until it is as close as
                possible to just-in-time. Lastly, a function of a person's literal vision
                is the ability to focus. We are hoping that this reincarnation of Vision
                will enable a user to focus on getting their inventory in line and online.
              </p>
              <p>
                Solidifying this branding was important for me, as a developer, because it
                provides a northern star, a guiding light, to my goal. The meaning that
                branding holds for a user is realized many times over, for me. It is an
                important aspect of development, keeping the goals, ideals, and vision of
                the product, in mind.
              </p>
            </div>
            <script src='http://disqus.com/forums/tpitale/embed.js' type='text/javascript'></script>
            <noscript>
              <a href='http://tpitale.disqus.com/?url=ref'>
                View the discussion thread.
              </a>
              <a class='dsq-brlink' href='http://disqus.com'>
                blog comments powered by
                <span class='logo-disqus'>
                  Disqus
                </span>
              </a>
            </noscript>
            <div id='post'>
              <h1>Verizon Fios Internet &amp; TV</h1>
              <h2>Using Your Own Router, Not the Actiontec Router</h2>
              <span class='date'>2008-07-08</span>
              <p>
                <h1>The basic steps are as follows:</h1>
                <ol>
                  <li>Order Verizon Fios</li>
                  <li>
                    During installation have the installer turn on the ethernet port in the
                    MOCA, not the coax
                  </li>
                  <li>Have the installer leave you with a "NIM"</li>
                  <li>Setup your router as you would have with any other ISP</li>
                  <li>Connect the "NIM" to your router</li>
                  <li>Connect the "NIM" to a coax port in your house</li>
                  <li>
                    Have the installer connect and activate your television set-top-boxes
                    (STB)
                  </li>
                </ol>
              </p>
              <h3>Now for some explanation</h3>
              <p>
                I think ordering should be pretty self-explanatory. However, I have not
                said anything about why a sane person would wish to do this instead of
                letting the nice Verizon installer do their job. It's all in the hardware
                Using the Actiontec router Verizon provides is fine, if you've never had a
                wireless home network before. For the rest of us, being allowed to use our
                own, existing, setup is not possible without the foreknowledge or the will
                to fight for the information.
              </p>
              <h3>Onto the more technical stuff</h3>
              <p>
                The MOCA is the box that is left outside of your house. Essentially, it
                receives and interprets the signal. It takes the place of what we once
                called a MODEM. In this box, there are multiple connections, one of which
                is the standard ethernet port any Linksys, DLink, or Apple router knows and
                loves. There is also a port that passes the network information over a coax
                (short for coaxial) cable. This is the port left on by Verizon normally
                because the Actiontec router (which, with a simple google search, one will
                find is nearly worthless) is intended to work with it. Using the ethernet
                port is required so that every other brand of standard router will operate.
              </p>
              <p>
                Next, we set up our router in much the same way it would be set up with a
                DSL or Cable ISP. Verizon uses the standard, DHCP, to give your router an
                IP address. At this point, assuming the internet has been activated by the
                installer, you should be able to get on the internet at the wonderfully
                blazing speeds that Fios provides.
              </p>
              <p>
                The last major step is asking the installer to give you a "NIM". I never
                found out what "NIM" stood for, but it's purpose is clear. In order to
                get access to the programming guide or to video-on-demand services your
                STBs must have internet access, too. The "NIM" should have two ports. The
                first is an ethernet port and the second is a coax connector. Can you guess
                what to do? Plug an ethernet cable from your router into the "NIM" and plug
                a coax cable into the other port. The final coax connection should be made
                to any coax cable outlet in your home as they are all inter-connected. The
                "NIM" acts as translator in place of the Actiontec router and provides
                internet access for the STBs to use. The STBs do have ethernet ports (at
                least the latest Motorola box Verizon provided) but internet access does
                not appear to be the purpose, but rather, home network connection for
                certain media-sharing capabilities (music, movies, pictures to the TV).
              </p>
              <p>
                At this point, the installer should be able to simply plug in all of your
                STBs and activate them as needed through Verizon.
              </p>
              <p>
                Disclaimer: I am not a Verizon technician. If for some strange reason any
                of these instructions mess up your system I take no responsibility as
                these are only the methods that worked FOR ME. Your Mileage May Vary!
              </p>
            </div>
            <script src='http://disqus.com/forums/tpitale/embed.js' type='text/javascript'></script>
            <noscript>
              <a href='http://tpitale.disqus.com/?url=ref'>
                View the discussion thread.
              </a>
              <a class='dsq-brlink' href='http://disqus.com'>
                blog comments powered by
                <span class='logo-disqus'>
                  Disqus
                </span>
              </a>
            </noscript>
            <div id='post'>
              <h1>In the Coming Days</h1>
              <h2>So Much to Do</h2>
              <span class='date'>2008-05-27</span>
              <p>
                The short story is:
                <a href="http://www.viget.com">Viget</a>
                is being extremely generous and is paying for me to travel to
                <a href="http://en.oreilly.com/rails2008/public/content/home">RailsConf</a>
                this year. Despite the fact that I have only been in their employ for three
                whole weeks. I'm extremely happy working there and I only hope that I am
                living up to their expectations of me.
              </p>
              <p>
                I am excited to go to RailsConf for two reasons. First, I have never been
                to a conference before, any conference, and I really expect to learn a lot
                in the sessions I am enrolled in. Second, I may finally get to meet many of
                the people I talk to on the irc chat rooms for Merb and DataMapper. People
                like Yehuda Katz, Ezra Z., Adam French (who I think is going), and a
                coworker from Viget South, Ben Scofield, who will be speaking, as well. All
                in all I have extremely high hopes for this trip.
              </p>
              <p>
                In other news, I've got draft copies of many, many blog posts. The problem
                is trying to decide where they will be appropriate. Some are about the beta
                for
                <a href="http://www.getdropbox.com">Dropbox</a>
                (my favorite service, at the moment), including some nifty tricks. Another
                post is a followup to Getting Things Done with Mail and iCal combined with
                a review of the GTD application, Things. On the
                <a href="http://www.viget.com/extend/">Viget Extend blog</a>
                , I've got some ideas for posts on topics ranging from Microsoft Exchange
                calendar subscriptions in iCal to accessing the LDAP global address list
                from Address Book.
              </p>
            </div>
            <script src='http://disqus.com/forums/tpitale/embed.js' type='text/javascript'></script>
            <noscript>
              <a href='http://tpitale.disqus.com/?url=ref'>
                View the discussion thread.
              </a>
              <a class='dsq-brlink' href='http://disqus.com'>
                blog comments powered by
                <span class='logo-disqus'>
                  Disqus
                </span>
              </a>
            </noscript>
            <div id='post'>
              <h1>Beta Testing the Slicehost API</h1>
              <h2>A Foray into ActiveResource and DNS Records</h2>
              <span class='date'>2008-03-21</span>
              <p>
                I was fortunate enough to join slicehost this past week. It is a fantastic
                service, possibly the best VPS I've encountered. While perusing their forum
                as I am want to do from time to time, I noticed a new post by a slicehost
                employee requesting beta-testers (a favorite phrase of mine) for their new
                API. I've used ActiveResource in the past and I thought it would be worth a
                shot.
              </p>
              <p>
                I threw in my hat on the forum and was summarily rewarded with an email
                from a slicehost employee. I was given an API key and some documentation
                with examples in Ruby and Python. Given my ActiveResource experience I
                immediately went to work with their example. It was a breeze and one that
                I am delighted to say any Rubyist would be able to complete.
              </p>
              <p>
                I completed the example, messed around a bit more, and then I retired for
                the evening. The next day I received a short questionnaire which I
                dutifully filled out and returned. My tinkering was not over, however. Oh,
                no. The next free chance I had, I dove right in. Given the access the beta
                provided I could create only two things off the top of my head. The first,
                a dynamic-dns-type updater. The second, a monitor of system status.
              </p>
              <p>
                So far, I have only completed the dynamic dns updater. It is crude but, it
                provides the basic functionality required. It allows you to provide a
                Zone and a Record, as well as, the IP address to use when updating the
                record. If you do not provide an IP address, the current external IP of
                your location will be used.
              </p>
              <p>
                The point of all this is I can have a domain name pointing to my home IP.
                If my provider changes my IP for whatever reason, the script, run by cron
                on a regular basis will tell slicehost, my DNS provider, that my home IP
                address has changed within a reasonable amount of time.
              </p>
            </div>
            <script src='http://disqus.com/forums/tpitale/embed.js' type='text/javascript'></script>
            <noscript>
              <a href='http://tpitale.disqus.com/?url=ref'>
                View the discussion thread.
              </a>
              <a class='dsq-brlink' href='http://disqus.com'>
                blog comments powered by
                <span class='logo-disqus'>
                  Disqus
                </span>
              </a>
            </noscript>
            <div id='post'>
              <h1>Slicehost</h1>
              <h2>Getting it Right, Right Away</h2>
              <span class='date'>2008-03-14</span>
              <p>
                At the recommendation of Patrick Reagan of Viget Labs I signed up for an
                account with Slicehost. With a simple form for signup, I was quickly
                filling in my credit card number. Before my credit card had been validated
                by Slicehost, my slice was up and running.
              </p>
              <p>
                I was not planning at the time to set up, or modify my new server. The draw
                of the root password that had just been emailed to me overpowered any such
                plans. I quickly discovered the fantastic tools made available by Slicehost
                for the user. Within 2 minutes I had configured my DNS and within 5 minutes
                I had compiled and installed Nginx, all thanks to the excellent help site.
              </p>
              <p>
                Upon completing the initial "release" of this website the following
                morning, I was completely up and running and I switched my TLD registration
                to the Slicehost DNS hosts. If you do sign up for a Slicehost account I
                would certainly appreciate a
                <a href="https://manage.slicehost.com/customers/new?referrer=972292314">referral.</a>
              </p>
            </div>
            <script src='http://disqus.com/forums/tpitale/embed.js' type='text/javascript'></script>
            <noscript>
              <a href='http://tpitale.disqus.com/?url=ref'>
                View the discussion thread.
              </a>
              <a class='dsq-brlink' href='http://disqus.com'>
                blog comments powered by
                <span class='logo-disqus'>
                  Disqus
                </span>
              </a>
            </noscript>
            <div id='post'>
              <h1>Barack Obama</h1>
              <h2>Experience is Everything</h2>
              <span class='date'>2008-04-06</span>
              <p>
                I won't often speak of politics. In fact, I would like this to be my one
                and only post on the subject.
                <b>
                  I am a Barack Obama supporter.
                </b>
                The man says a lot of things, just as every other candidate has. However,
                as I've learned, few can back it up. Yes, John McCain was a POW. That is
                horrible but, has no bearing on his ability to be president. His health
                should be of much greater concern. As for Hillary, she talks a whole lot.
                A significant amount of hatred spews from her mouth. On top of that, many
                claims that she makes are only true in the simplest sense. For example, she
                speaks of how she has introduced legislation to improve healthcare and the
                related industry and regulations. What she doesn't say is that very little
                of her legislation passes or is even supported by her peers. Many of these
                bills introduced speak very vaguely about "improving healthcare at sometime
                in the future", without ever mentioning how or when.
              </p>
              <p>
                Something I have learned working in the IT/Software industry, in a very
                short time, is that time does NOT equal experience. I know many a developer
                that has worked for 20 years and has little more real experience than
                another particular developer, one who had only been in the corporate world
                for 2, maybe 3, years. It is the passion that drives us all. This passion
                leads a person to find the experience because it is something they want.
                For many, it is something that simply may or may not happen over time.
              </p>
              <p>
                If you want to understand just how passionate Barack Obama is, look at how
                passionate his followers are. Barack Obama's passion drives others to be
                just as passionate. This could also be seen in another characteristic of
                Bill Clinton. As Chris Rock used to say in a show, "Bill Clinton is so
                famous, someone else got famous just from sucking his dick!"
              </p>
              <p>
                Granted, passion isn't everything but, it drives a person to seek out the
                many other characteristics that make an exceptional person. The traits and
                abilities that a person must possess to be the president. Barack Obama has
                these traits and abilities. He may not have been a POW but, he has the
                necessary abilities at the most basic level to achieve anything he wants.
                In addition, we must face the fact that nothing will ever prepare a person
                truly for being one of the most powerful people in the world. So, we must
                look to the building blocks.
              </p>
              <p>
                Another excellent measure of a person's character and merit is in the way
                they communicate to the public. Barack Obama, and his campaign, do not
                speak hatefully of any other person. Even when it is well deserved, honest
                and would sometimes be necessary. This type of level-headed behavior is
                precisely what the country needs, right now. Excitable behavior, lack of
                quality information has gotten this country in way over its head in war,
                death, debt, and built as a reputation that contrives an extreme level of
                hatred from nearly every other country in the world.
              </p>
              <p>
                These are only a few of the multitude of "things" that are required to be
                the president. No one person can ever speak of every quality necessary. My
                only fear at this point is that something, someone, is going to screw it up
                for the rest of the country.
              </p>
            </div>
            <script src='http://disqus.com/forums/tpitale/embed.js' type='text/javascript'></script>
            <noscript>
              <a href='http://tpitale.disqus.com/?url=ref'>
                View the discussion thread.
              </a>
              <a class='dsq-brlink' href='http://disqus.com'>
                blog comments powered by
                <span class='logo-disqus'>
                  Disqus
                </span>
              </a>
            </noscript>
            <div id='post'>
              <h1>Legacy Databases with DataMapper</h1>
              <h2>Something Old, Something New</h2>
              <span class='date'>2008-03-18</span>
              <p>
                In my previous post I discussed my eventual discovery that
                <a href="http://rubyonrails.org">Ruby on Rails</a>
                would not work for a new project I had begun. Thankfully, I was at the very
                beginning of my work on said project and making a transition to a new path
                was not the end of the world.
              </p>
              <p>
                As I mentioned, a helpful suggestion led me to investigate
                <a href="http://merbivore.com">Merb</a>
                as a potential framework. Merb has the benefit of letting me use any of
                three possible database ORMs. ActiveRecord is supported, as well as,
                <a href="http://datamapper.org/">DataMapper</a>
                and Sequel. Obviously, ActiveRecord did not work for me and so, I looked at
                both DataMapper and Sequel. I found DataMapper to be more usable out of the
                box and so I moved ahead using it. Sequel would have been another excellent
                alternative but, I had to pick one and continue with my work.
              </p>
              <p>
                How did DataMapper solve my legacy database issues, you may ask. The answer
                is that DataMapper provides all the same standard solutions that
                ActiveRecord does but, it allows for keys to be text or any other type as
                long as they are unique and not null. The sql requirements for a primary
                key state that it must be unique and not null, there is no requirement for
                type. There was one little issue with DataMapper in which the text fields
                were being ignored because, in DataMapper, text fields are lazy. These
                fields will not be loaded until they are requested by an application. This
                led to a number of issues but, because DataMapper is so very easy to
                contribute to, I was able to make the necessary changes with much
                appreciation from the community.
              </p>
              <p>
                In terms of conventions, DataMapper has another nifty trick up its sleeve.
                In DataMapper, when defining a column, you may use a different name for the
                property and later define the actual column name from the database. I was
                extremely enthused to find that I could change names from the database from
                <code>wc_shlfprce</code>
                to something like:
                <code>warm_case_shelf_price.</code>
                Though it was a longer name, in terms of legibility the latter is an
                infinite improvement.
              </p>
              <p>
                And so, I work on, with Merb and DataMapper as my preferred tools, at least
                for this particular project. Aside from this flexibility, DataMapper would
                normally adhere to the same specific conventions for a database as does
                ActiveRecord. Any new converts from Rails will likely feel right at home.
              </p>
            </div>
            <script src='http://disqus.com/forums/tpitale/embed.js' type='text/javascript'></script>
            <noscript>
              <a href='http://tpitale.disqus.com/?url=ref'>
                View the discussion thread.
              </a>
              <a class='dsq-brlink' href='http://disqus.com'>
                blog comments powered by
                <span class='logo-disqus'>
                  Disqus
                </span>
              </a>
            </noscript>
          </div>
        </div>
      </div>
    </div>
    <script src='/javascripts/jquery.js' type='text/javascript'></script>
    <script src='/javascripts/jquery.scrollTo.js' type='text/javascript'></script>
    <script src='/javascripts/jquery.localscroll.js' type='text/javascript'></script>
    <script type='text/javascript'>
      $(document).ready(function(){$("#header").localScroll();});
    </script>
    <!-- Google -->
    <script type='text/javascript'>
      var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type='text/javascript'>
      var pageTracker = _gat._getTracker("UA-3879168-1");
      pageTracker._initData();
      pageTracker._trackPageview();
    </script>
  </body>
</html>
